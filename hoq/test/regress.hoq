#
#  Synopsis:
#	Trivial regression test
#  Usage:
#	export LANG=C
#	PATH=.:$PATH
#	seq 1000 | ../src/hoq regress.hoq | sort | shasum
#	cat regress.sha1
#

command echo_bool
{
	path = "regress-echo";
}

command echo_line
{
	path = "regress-echo";
}

command echo_dollar1
{
	path = "regress-echo";
}

command xtrue
{
	path = "true";
}

exec xtrue();

exec echo_bool(
	"true == true", true == true,

	"true == false", true == false,

	"false == true", false == true,

	"false == false", false == false,

	"true != true", true != true,

	"true != false", true != false,

	"false != true", false != true,

	"false != false", false != false,

	"true != true", true != true,

	"0 == 0", 0 == 0,
	"0 != 0", 0 != 0,

	"1 == 1", 1 == 1,
	"1 != 1", 1 != 1,

	"0 == 255", 0 == 255,
	"0 != 255", 0 != 255,

	"xtrue == 255", xtrue.exit_status == 255,
	"xtrue != 255", xtrue.exit_status != 255,

	"xtrue == 0", xtrue.exit_status == 0,
	"xtrue != 0", xtrue.exit_status != 0,

	"xtrue == 1", xtrue.exit_status == 1,
	"xtrue != 1", xtrue.exit_status != 1,

	"xtrue == 255", xtrue.exit_status == 255,
	"xtrue != 255", xtrue.exit_status != 255
);

exec echo_line("$0", $0)
  when
  	xtrue.exit_status == 0
;

exec echo_dollar1("$1", $1)
  when
  	xtrue.exit_status == 0
;
